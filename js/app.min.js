"use strict";var ul=document.createElement("ul");ul.className="widget__list";var btn=document.createElement("button");btn.type="button",btn.className="widget__btn",btn.id="show-news",btn.ariaLabel="Открыть больше новостей";var widget={id:"widget",styleWidget:"css/widget.css",currentElem:null,listShow:!1,data:[{title:"Samsung назвал смартфоны, которые обновят до Android 11",author:"Риа Новости",date:"December 02 2020 11:57:44 GMT+0300",photo:"https://cdn25.img.ria.ru/images/07e4/09/17/1577669685_2:0:918:515_1600x0_80_0_0_fb2ee9a9ce8b86b1b1f2548c37c13b80.jpg.webp",link:"https://ria.ru/20201202/samsung-1587307350.html"},{title:"Apple намерена увеличить автономность Apple Watch изящным способом",author:"mobiltelefon.ru",date:"September 02 2020 09:56:10 GMT+0300",photo:"https://mobiltelefon.ru/photo/december20/02/apple_namerena_uvelichit_avtonomnost_apple_watch_elegantnym_sposobom_picture6_0_resize.jpg",link:"https://mobiltelefon.ru/post_1606892219.html"},{title:"https://lenta.ru/news/2020/12/02/forty_two/",author:"Lenta.ru",date:"May 20 2020 14:57:02\t GMT+0300",photo:"https://icdn.lenta.ru/images/2020/12/02/14/20201202145731479/pic_c11f850f0357b56f6c760881361f3e15.jpg",link:"https://lenta.ru/news/2020/12/02/forty_two/"},{title:"В Cyberpunk 2077 будет доступен фоторежим со множеством настроек",author:"Игромания онлайн",date:"September 10 2020 17:18:10 GMT+0300",photo:"https://cdn.igromania.ru/mnt/news/9/e/f/a/9/5/100357/ded648b0d3ea14a8_848x477.jpg",link:"https://www.igromania.ru/news/100357/V_Cyberpunk_2077_budet_dostupen_fotorezhim_so_mnozhestvom_nastroek.html"},{title:"Типичная уникальность: астрономы объяснили странности Солнечной системы",author:"Вести.Ru",date:"May 20 2020 11:27:02\t GMT+0300",photo:"https://cdn-st1.rtr-vesti.ru/vh/pictures/xw/307/144/3.jpg",link:"https://www.vesti.ru/nauka/article/2493310"}],init:function(){var t=document.querySelector("#".concat(this.id));if(t){t.classList.add("widget"),this.addStyle();for(var e=0;e<this.data.length;e++){var a=document.createElement("li");a.className="widget__item",a.insertAdjacentHTML("beforeEnd",'\n\t\t\t\t<div class="widget__photo" style="background-image: url('.concat(this.data[e].photo,')"></div>\n\t\t\t\t<div class="widget__content-container">\n\t\t\t\t\t<h2 class="widget__title">').concat(this.data[e].title,'</h2>\n\t\t\t\t\t<p class="widget__content widget__author">').concat(this.data[e].author,'</p>\n\t\t\t\t\t<div class="widget__header-container">\n\t\t\t\t\t\t<a class="widget__link" href="').concat(this.data[e].link,'" aria-label="Перейти на подробное описание статьи «').concat(this.data[e].title,"» от аватара ").concat(this.data[e].author,'">Подбробнее</a>\n\t\t\t\t\t\t<div class="widget__status widget__status--not-read"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="widget__date">').concat(new Date(this.data[e].date).toLocaleDateString()," ").concat(new Date(this.data[e].date).toLocaleTimeString().slice(0,-3),"</p>\n\t\t\t\t</div>")),ul.appendChild(a)}btn.textContent=this.conjugationNumber(this.data.length-1),ul.appendChild(btn),t.appendChild(ul)}else console.log('Block id = "'.concat(id,'" not found'))},addStyle:function(){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=this.styleWidget,document.head.appendChild(t)},conjugationNumber:function(t){return t>4&&t<21?"Развернуть оставшиеся ".concat(t," новостей"):1===t?"Развернуть оставшуюся ".concat(t," новость"):"Развернуть оставшиеся ".concat(t,2===t||3===t||4===t?" новости":" новостей")}};ul.addEventListener("mouseover",function(t){if(!widget.currentElem){var e=t.target.closest("li");if(e&&ul.contains(e)){var a=e.querySelector(".widget__status");a.classList.remove("widget__status--not-read"),a.classList.add("widget__status--read"),widget.currentElem=e}}}),ul.addEventListener("mouseout",function(t){if(widget.currentElem){for(var e=t.relatedTarget;e;){if(e===widget.currentElem)return;e=e.parentNode}widget.currentElem=null}}),btn.addEventListener("click",function(){!1===widget.listShow?(ul.classList.add("widget__list--show"),btn.textContent="Свернуть новости",widget.listShow=!0):!0===widget.listShow&&(ul.classList.remove("widget__list--show"),btn.textContent=widget.conjugationNumber(ul.querySelectorAll(".widget__item").length-1),widget.listShow=!1)}),widget.init();
//# sourceMappingURL=app.min.js.map
